
 <div class="content-wrapper">
   <div class="container-fluid">
     <!-- パンくずリストの設定-->
     <ol class="breadcrumb">
       <li class="breadcrumb-item">
         <a href="{% url 'kakeibo:index' %}">TOP</a>
       </li>
       <li class="breadcrumb-item active">カテゴリ毎の合計金額推移</li>
     </ol>
     <!--ページタイトル-->
     <div class="card mb-3">
       <div class="card-header">
          <h3><b>家計簿アプリ（カテゴリ毎の合計金額推移）</b></h3></div>
       <div class="card-body">
        
        <canvas id="myPieChart"></canvas>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.bundle.js"></script>
             <!-- テーブル表の定義 -->
         <table id=kakeibo_list width="100%" class="table table-striped table-bordered table-hover">
              <!-- 表の列の定義-->
               <thead>
                   <tr style="background-color:rgb(224, 228, 226)">
                   <th class="text-center width=10">日付</th>
                   <th class="text-center">カテゴリ</th>
                   <th class="text-center">合計金額</th>
                 </tr>
               </thead>
              <!-- ここまでが表の列の定義-->
               <hr>
              <!-- 表のデータ部分の表示-->
               <tbody>
                 {% for date, category, total in matrix_list %}
                   <tr class="odd gradeX text-center">
                     <td class="text-center">{{ date}}</td>
                     <td class="text-center">{{ category }}</td>
                     <td class="text-center">{{ total }}</td>
                   </tr>
               {% endfor %}
               </tbody>
              <!-- ここまでが表のデータ部分の表示-->
 
             </table>
             <!-- ここまでがテーブル表の定義 -->
 
       </div>
      </div>
   </div>
  </div>
  
  
  
  <canvas id="myChart"></canvas>
  <style>
     @media screen and (min-width: 1000px) {
       .chart_container {
         width: 640px;
         margin: auto;
       }
     }
 </style>
 
 <script>
    var ctx = document.getElementById("myPieChart");
    var myPieChart = new Chart(ctx, {
    type: 'pie',
    data: {
      labels: ["{{category1}}", "{{category2}}", "{{category3}}", "{{category4}}"],
      datasets: [{
          backgroundColor: [
              "#BB5179",
              "#FAFF67",
              "#58A27C",
              "#3C00FF"
          ],
          data: ["{{syokuhi_total}}", "{{koutuhi_total}}", "{{zappi_total}}", "{{zappi_total}}"]
      }]
    },
    options: {
      title: {
        display: true,
        text: '出費 割合'
      }
    }
  });
  
  

  
  </script>
 
  </html>
